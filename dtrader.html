<div class="page-section">
    <h2>DTrader</h2>

    <div class="card">
        <p class="muted">
            Welcome to the DTrader panel.  
            Here you can integrate live charts, indicators, and future trading modules.
        </p>

        <div class="dtrader-box">

            <label>Select Market:</label>
            <select id="marketSelect" class="input">
                <option value="R_100">Volatility 100 Index</option>
                <option value="R_75">Volatility 75 Index</option>
                <option value="R_50">Volatility 50 Index</option>
                <option value="CRASH">Crash Indices</option>
                <option value="BOOM">Boom Indices</option>
            </select>

            <label>Select Contract Type:</label>
            <select id="contractType" class="input">
                <option value="rise">Rise</option>
                <option value="fall">Fall</option>
                <option value="even">Even</option>
                <option value="odd">Odd</option>
            </select>

            <label>Stake Amount ($):</label>
            <input id="stakeInput" class="input" type="number" placeholder="e.g., 1.00">

            <button class="btn" onclick="runTrade()">Trade</button>
        </div>

        <div class="card">
            <h3>Status</h3>
            <pre id="tradeStatus" class="muted">Waiting for trade…</pre>
        </div>

    </div>
</div>

<script>
function runTrade() {
    if (!appUI.isLoggedIn()) {
        alert("Please login to trade.");
        window.location.href = "index.html";
        return;
    }

    const market = document.getElementById("marketSelect").value;
    const type = document.getElementById("contractType").value;
    const stake = document.getElementById("stakeInput").value;

    if (!stake || stake <= 0) {
        document.getElementById("tradeStatus").innerText = "Invalid stake amount.";
        return;
    }

    document.getElementById("tradeStatus").innerText =
        `Trade Sent:\nMarket: ${market}\nContract: ${type}\nStake: $${stake}\n\n(Placeholder engine — connect later)`;
}
</script>